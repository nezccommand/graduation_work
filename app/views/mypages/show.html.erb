<div class="max-w-7xl mx-auto px-4">
  <section class="bg-green-50 py-12 px-4 sm:px-8">
    <div class="max-w-4xl mx-auto text-green-900">
      <h2 class="text-2xl sm:text-3xl font-bold mb-6 text-center border-b border-green-300 pb-4">
        マイページ
      </h2>

      <div class="bg-white border border-green-200 rounded-lg shadow-sm p-6 mb-10">
        <h3 class="text-xl font-semibold mb-3 text-green-800">ユーザー情報</h3>
        <p><strong>ユーザー名：</strong><%= current_user.name || "未設定" %></p>
        <p><strong>メールアドレス：</strong><%= current_user.email %></p>
      </div>

      <div class="bg-white border border-green-200 rounded-lg shadow-sm p-6 mb-10">
        <h3 class="text-xl font-semibold mb-3 text-green-800">クイズの履歴</h3>

        <% if @quiz_histories.any? %>
          <ul class="list-disc list-inside text-green-900 space-y-1">
            <% @quiz_histories.each do |history| %>
              <li>
                <%= history.created_at.strftime("%Y年%-m月%-d日") %>：
                <%= history.total_count %>問中<%= history.correct_count %>問正解
              </li>
            <% end %>
          </ul>
        <% else %>
          <p>まだクイズの履歴がありません。</p>
        <% end %>
      </div>

      <div class="bg-white border border-green-200 rounded-lg shadow-sm p-6 mb-10">
        <h3 class="text-xl font-semibold mb-3 text-green-800">メール事例のブックマーク(実装中)</h3>
          <p>ブックマークはまだありません。</p>
      </div>

      <div class="mt-12 flex flex-col items-center gap-6 max-w-xs mx-auto">
        <%= link_to "クイズを始める", quiz_path(id: 1, quiz_start: true), class: "active:scale-95 bg-green-700 text-white px-8 py-4 rounded-lg shadow hover:bg-green-600 transition text-lg font-semibold w-full text-center" %>
        <%= link_to "実例一覧を見る", samples_path, class: "active:scale-95 bg-white border border-green-700 text-green-700 px-8 py-4 rounded-lg shadow hover:bg-green-50 transition text-lg font-semibold w-full text-center" %>
        <% if user_signed_in? %>
          <%= link_to "模擬メールを送る(実装中)", "#",
              class: "active:scale-95 bg-green-100 text-green-800 px-8 py-4 rounded-lg shadow transition text-lg font-semibold w-full text-center cursor-not-allowed opacity-50",
              aria: { disabled: true } %>
        <% end %>
      </div>
      <div class="mt-12 flex flex-col items-center gap-3 max-w-xs mx-auto">
        <%= link_to "トップページに戻る", root_path,
            class: "active:scale-95 bg-green-50 border border-green-300 text-green-700 px-6 py-2 rounded-md shadow hover:bg-green-100 transition text-sm font-medium w-full text-center" %>
        <%= link_to "ログアウト", destroy_user_session_path,
            data: { turbo_method: :delete, turbo_confirm: "ログアウトしてもよろしいですか？" },
            class: "active:scale-95 bg-red-100 text-red-800 px-6 py-2 rounded-md shadow hover:bg-red-200 transition text-sm font-medium w-full text-center" %>
      </div>
    </div>
  </section>
</div>