<% if user_signed_in? %>
  <div id="dropdown-menu"
      class="opacity-0 scale-95 pointer-events-none absolute top-full right-0 mt-2 w-48 bg-white border border-green-200 rounded-lg shadow-lg z-50 transform transition-all duration-200">
    <ul class="py-2">
      <li><%= link_to "マイページ", "#", class: "block px-4 py-2 text-green-800 hover:bg-green-100" %></li>
      <li>
        <%= link_to "クイズ", "javascript:;", 
            class: "block px-4 py-2 text-green-800 hover:bg-green-100", 
            onclick: "if (confirm('クイズを始めてもよろしいですか？')) { window.location.href='#{quiz_path(id: 1, quiz_start: true)}'; }" %>
      </li>
      <li><%= link_to "用語一覧", "#", class: "block px-4 py-2 text-green-800 hover:bg-green-100" %></li> 
      <li><%= link_to "模擬メール送信機能", "#", class: "block px-4 py-2 text-green-800 hover:bg-green-100" %></li>
      <li><%= link_to "ログアウト", destroy_user_session_path, data: { turbo_method: :delete, turbo_confirm: "ログアウトしてもよろしいですか？" }, class: "block px-4 py-2 text-red-600 hover:bg-red-50" %></li>
    </ul>
  </div>

<% else %>
  <div id="dropdown-menu"
      class="opacity-0 scale-95 pointer-events-none absolute top-full right-0 mt-2 w-48 bg-white border border-green-200 rounded-lg shadow-lg z-50 transform transition-all duration-200">
    <ul class="py-2">
      <li>
        <%= link_to "クイズ", "javascript:;", 
            class: "block px-4 py-2 text-green-800 hover:bg-green-100", 
            onclick: "if (confirm('クイズを始めてもよろしいですか？')) { window.location.href='#{quiz_path(id: 1, quiz_start: true)}'; }" %>
      </li>
      <li><%= link_to "用語一覧", "#", class: "block px-4 py-2 text-green-800 hover:bg-green-100" %></li>
      <li><%= link_to "ログイン", new_user_session_path, class: "block px-4 py-2 text-green-800 hover:bg-green-100" %></li>
    </ul>
  </div>
<% end %>