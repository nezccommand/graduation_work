<ul class="space-y-2">
  <% choices.each do |choice_content| %>
    <% is_selected = (choice_content == selected) %>
    <% is_correct = (choice_content == correct) %>

    <% bg_class = "" %>
    <% label = "" %>

    <% if is_selected && is_correct %>
      <% bg_class = "bg-green-100 border-green-400" %>
      <% label = "（正解）" %>
    <% elsif is_selected && !is_correct %>
      <% bg_class = "bg-red-50 border-red-400" %>
      <% label = "（あなたが選んだ選択肢）" %>
    <% elsif is_correct %>
      <% bg_class = "bg-green-50 border-green-300" %>
      <% label = "（正解の選択肢）" %>
    <% else %>
      <% bg_class = "border-gray-300" %>
    <% end %>

    <li class="p-3 rounded border <%= bg_class %>">
      <span class="font-medium"><%= choice_content %></span>
      <% if label.present? %>
        <span class="ml-2 text-base text-gray-700 font-semibold"><%= label %></span>
      <% end %>
    </li>
  <% end %>
</ul>